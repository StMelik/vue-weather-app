(function(){"use strict";var e={7121:function(e,t,a){var r=a(9242),i=a(3396);const s={class:"container"};function n(e,t,a,r,n,o){const c=(0,i.up)("MyHeader"),_=(0,i.up)("WeatherDetails"),d=(0,i.up)("NavBar"),u=(0,i.up)("OnWeek");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(c,{onSubmitSearchQuery:o.submitSearchQuery,onChangeSelect:o.handleSelectCity},null,8,["onSubmitSearchQuery","onChangeSelect"]),(0,i.Wm)(_,{onChangeFavoriteStatus:o.handleFavoriteStatus},null,8,["onChangeFavoriteStatus"]),(0,i.Wm)(d),(0,i.Wm)(u)])}a(6699);var o=a(7139),c=a.p+"img/logo.f76fa8fd.svg";const _=e=>((0,i.dD)("data-v-3b618628"),e=e(),(0,i.Cn)(),e),d={class:"header"},u=_((()=>(0,i._)("img",{class:"header__logo",src:c,alt:"Логотип"},null,-1))),l=_((()=>(0,i._)("h1",{class:"header__title"},"Vue weather",-1))),h=["value"],w=_((()=>(0,i._)("button",{class:"header__submit"},null,-1))),v=_((()=>(0,i._)("button",{disabled:"",class:"header__button disabled-button"},null,-1))),p=["value"],f=_((()=>(0,i._)("option",{value:"",disabled:"",selected:""},"Избранные",-1))),m=["value"];function S(e,t,a,s,n,c){return(0,i.wg)(),(0,i.iD)("header",d,[u,l,(0,i._)("form",{class:"header__form",onSubmit:t[1]||(t[1]=(0,r.iM)((t=>e.$emit("submitSearchQuery")),["prevent"]))},[(0,i._)("input",{type:"text",class:"header__input",placeholder:"Поиск...",value:e.searchQuery,onInput:t[0]||(t[0]=t=>e.SET_SEARCH_QUERY(t.target.value)),required:""},null,40,h),w],32),v,(0,i._)("select",{name:"city",id:"city",class:"header__select",value:e.selectedCity,onChange:t[2]||(t[2]=e=>c.changeSelect(e.target.value))},[f,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.favoriteCites,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e,value:e},(0,o.zw)(e),9,m)))),128))],40,p)])}var E=a(65),y={methods:{...(0,E.OI)(["SET_SELECTED_CITY","SET_SEARCH_QUERY"]),changeSelect(e){this.SET_SELECTED_CITY(e),this.$emit("changeSelect",e)}},computed:{...(0,E.rn)({searchQuery:e=>e.searchQuery,selectedCity:e=>e.selectedCity,favoriteCites:e=>e.favorite.favoriteCites})}},T=a(89);const g=(0,T.Z)(y,[["render",S],["__scopeId","data-v-3b618628"]]);var C=g;const I=e=>((0,i.dD)("data-v-5ce502ae"),e=e(),(0,i.Cn)(),e),b={class:"weather"},O={class:"weather__now now-weather"},D={key:1,class:"now-weather__wrapper"},A={class:"now-weather__top"},R={class:"now-weather__top-temp"},W=I((()=>(0,i._)("p",{class:"now-weather__top-text"},"Сегодня",-1))),L={class:"now-weather__bottom"},k={class:"now-weather__bottom-text"},F={class:"now-weather__city-box"},Y={class:"now-weather__bottom-text"},N={class:"weather__details details-weather"},V={key:1,class:"details-weather__wrapper"},M={class:"details-weather__group"},G=I((()=>(0,i._)("div",{class:"details-weather__icon details-weather__icon-temp"},null,-1))),Q=I((()=>(0,i._)("p",{class:"details-weather__title"},"Температура",-1))),z={class:"details-weather__body"},x={class:"details-weather__group"},j=I((()=>(0,i._)("div",{class:"details-weather__icon details-weather__icon-humidity"},null,-1))),H=I((()=>(0,i._)("p",{class:"details-weather__title"},"Давление ",-1))),P={class:"details-weather__body"},U={class:"details-weather__group"},Z=I((()=>(0,i._)("div",{class:"details-weather__icon details-weather__icon-evaporator"},null,-1))),$=I((()=>(0,i._)("p",{class:"details-weather__title"},"Осадки",-1))),J={class:"details-weather__body"},q={class:"details-weather__group"},B=I((()=>(0,i._)("div",{class:"details-weather__icon details-weather__icon-wind"},null,-1))),K=I((()=>(0,i._)("p",{class:"details-weather__title"},"Ветер",-1))),X={class:"details-weather__body"};function ee(e,t,a,r,s,n){const c=(0,i.up)("MyPreloader");return(0,i.wg)(),(0,i.iD)("div",b,[(0,i._)("div",O,[e.isLoading?((0,i.wg)(),(0,i.j4)(c,{key:0})):((0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("div",A,[(0,i._)("p",R,(0,o.zw)(e.temperature)+"°",1),W,(0,i._)("p",{class:"now-weather__top-icon",style:(0,o.j5)(e.weatherIcon)},null,4)]),(0,i._)("div",L,[(0,i._)("p",k,"Время: "+(0,o.zw)(e.time),1),(0,i._)("div",F,[(0,i._)("p",Y,"Город: "+(0,o.zw)(e.cityName),1),(0,i._)("button",{class:(0,o.C_)(["now-weather__city-button",e.isFavoriteCity&&"now-weather__city-button_active"]),onClick:t[0]||(t[0]=t=>e.$emit("changeFavoriteStatus"))},null,2)])])]))]),(0,i._)("div",N,[e.isLoading?((0,i.wg)(),(0,i.j4)(c,{key:0})):((0,i.wg)(),(0,i.iD)("div",V,[(0,i._)("div",M,[G,Q,(0,i._)("p",z,(0,o.zw)(e.temperature)+"° - ощущается как "+(0,o.zw)(e.feelsLikeTemperature)+"°",1)]),(0,i._)("div",x,[j,H,(0,i._)("p",P,(0,o.zw)(e.pressure)+" мм ртутного столба - "+(0,o.zw)(e.pressureStatus),1)]),(0,i._)("div",U,[Z,$,(0,i._)("p",J,(0,o.zw)(e.weatherCondition),1)]),(0,i._)("div",q,[B,K,(0,i._)("p",X,(0,o.zw)(e.windSpeed)+" м/с "+(0,o.zw)(e.windRoute)+" - "+(0,o.zw)(e.windStatus),1)])]))])])}const te={id:"floatingCirclesG"},ae=(0,i.uE)('<div class="f_circleG" id="frotateG_01" data-v-05b60760></div><div class="f_circleG" id="frotateG_02" data-v-05b60760></div><div class="f_circleG" id="frotateG_03" data-v-05b60760></div><div class="f_circleG" id="frotateG_04" data-v-05b60760></div><div class="f_circleG" id="frotateG_05" data-v-05b60760></div><div class="f_circleG" id="frotateG_06" data-v-05b60760></div><div class="f_circleG" id="frotateG_07" data-v-05b60760></div><div class="f_circleG" id="frotateG_08" data-v-05b60760></div>',8),re=[ae];function ie(e,t,a,r,s,n){return(0,i.wg)(),(0,i.iD)("div",te,re)}var se={};const ne=(0,T.Z)(se,[["render",ie],["__scopeId","data-v-05b60760"]]);var oe=ne,ce={components:{MyPreloader:oe},computed:{...(0,E.rn)({isLoading:e=>e.isLoading,cityName:e=>e.cityName,isFavoriteCity:e=>e.favorite.isFavoriteCity,favoriteCites:e=>e.favorite.favoriteCites}),...(0,E.Se)({time:"weather/current/getTime",temperature:"weather/current/getTemperature",feelsLikeTemperature:"weather/current/getFeelsLikeTemperature",pressure:"weather/current/getWeatherPressure",pressureStatus:"weather/current/getPressureStatus",windSpeed:"weather/current/getWindSpeed",windRoute:"weather/current/getWindRoute",windStatus:"weather/current/getWindStatus",weatherCondition:"weather/current/getWeatherCondition",weatherIcon:"weather/current/getWeatherIcon"})}};const _e=(0,T.Z)(ce,[["render",ee],["__scopeId","data-v-5ce502ae"]]);var de=_e;const ue=e=>((0,i.dD)("data-v-0c21eb2f"),e=e(),(0,i.Cn)(),e),le={class:"nav"},he=ue((()=>(0,i._)("button",{class:"nav__button nav__button_active"},"На неделю",-1))),we=ue((()=>(0,i._)("button",{disabled:"",class:"nav__button disabled-button"},"На месяц",-1))),ve=[he,we];function pe(e,t,a,r,s,n){return(0,i.wg)(),(0,i.iD)("nav",le,ve)}var fe={};const me=(0,T.Z)(fe,[["render",pe],["__scopeId","data-v-0c21eb2f"]]);var Se=me;const Ee={class:"weather-section week"},ye={key:1,class:"week"};function Te(e,t,a,r,s,n){const c=(0,i.up)("MyPreloader"),_=(0,i.up)("WeekItem");return(0,i.wg)(),(0,i.iD)("div",Ee,[e.isLoading?((0,i.wg)(),(0,i.j4)(c,{key:0,style:(0,o.j5)({transform:"translate(-50%, 0) scale(0.8)"})},null,8,["style"])):((0,i.wg)(),(0,i.iD)("ul",ye,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.dailyWeatherList,(e=>((0,i.wg)(),(0,i.j4)(_,{dayWeather:e,key:e.dt},null,8,["dayWeather"])))),128))]))])}const ge={class:"week__item item-week"},Ce={class:"item-week__day"},Ie={class:"item-week__date"},be={class:"item-week__max-temp"},Oe={class:"item-week__min-temp"},De={class:"item-week__weather"};function Ae(e,t,a,r,s,n){return(0,i.wg)(),(0,i.iD)("li",ge,[(0,i._)("p",Ce,(0,o.zw)(n.dayWeek),1),(0,i._)("p",Ie,(0,o.zw)(n.date),1),(0,i._)("div",{class:"item-week__icon",style:(0,o.j5)(n.weatherIcon)},null,4),(0,i._)("p",be,(0,o.zw)(n.maxTemperature)+"°",1),(0,i._)("p",Oe,(0,o.zw)(n.minTemperature)+"°",1),(0,i._)("p",De,(0,o.zw)(n.weatherCondition),1)])}var Re={props:{dayWeather:Object},computed:{...(0,E.rn)({isLoading:e=>e.isLoading}),maxTemperature(){return Math.round(this.dayWeather.temp.max)},minTemperature(){return Math.round(this.dayWeather.temp.min)},date(){const e=new Date(1e3*this.dayWeather.dt);return e.toLocaleString("ru",{day:"numeric",month:"short"})},dayWeek(){const e=new Date(1e3*this.dayWeather.dt),t=e.toLocaleString("ru",{weekday:"short"});return t[0].toUpperCase()+t.slice(1)},weatherCondition(){const e=this.dayWeather.weather[0].id;return e<240?"Гроза":e<330?"Морось":e<540?"Дождь":e<630?"Снег":e<790?"Туман":"Без осадков"},weatherIcon(){const e=this.dayWeather.weather[0].icon;return{backgroundImage:`url(http://openweathermap.org/img/wn/${e}@2x.png)`}}}};const We=(0,T.Z)(Re,[["render",Ae],["__scopeId","data-v-a4990736"]]);var Le=We,ke={components:{MyPreloader:oe,WeekItem:Le},computed:{...(0,E.rn)({isLoading:e=>e.isLoading,dailyWeatherList:e=>e.weather.daily})}};const Fe=(0,T.Z)(ke,[["render",Te],["__scopeId","data-v-9f3ba178"]]);var Ye=Fe,Ne={components:{NavBar:Se,WeatherDetails:de,MyHeader:C,OnWeek:Ye},methods:{...(0,E.nv)({fetchCoordinates:"weather/fetchCoordinates"}),...(0,E.OI)({SET_LOADING:"SET_LOADING",SET_CITY_NAME:"SET_CITY_NAME",SET_SEARCH_QUERY:"SET_SEARCH_QUERY",SET_SELECTED_CITY:"SET_SELECTED_CITY",SET_IS_FAVORITE_CITY:"favorite/SET_IS_FAVORITE_CITY",REMOVE_FAVORITES_CITES:"favorite/REMOVE_FAVORITES_CITES",ADD_FAVORITES_CITES:"favorite/ADD_FAVORITES_CITES",LOAD_FAVORITE_CITES:"favorite/LOAD_FAVORITE_CITES"}),async fetchWeather(e){const t=e[0].toUpperCase()+e.slice(1);this.SET_LOADING(!0),this.SET_CITY_NAME(t),await this.fetchCoordinates(t)},async submitSearchQuery(){await this.fetchWeather(this.searchQuery),this.SET_SEARCH_QUERY("")},checkIsFavoriteCity(e){this.favoriteCites.includes(e)?(this.SET_IS_FAVORITE_CITY(!0),this.SET_SELECTED_CITY(e)):(this.SET_IS_FAVORITE_CITY(!1),this.SET_SELECTED_CITY(""))},handleFavoriteStatus(){this.isFavoriteCity?(this.SET_IS_FAVORITE_CITY(!1),this.REMOVE_FAVORITES_CITES(this.cityName),localStorage.setItem("favoriteSites",JSON.stringify(this.favoriteCites)),this.SET_SELECTED_CITY("")):(this.SET_IS_FAVORITE_CITY(!0),this.ADD_FAVORITES_CITES(this.cityName),localStorage.setItem("favoriteSites",JSON.stringify(this.favoriteCites)),this.SET_SELECTED_CITY(this.cityName))},handleSelectCity(e){this.fetchWeather(e)}},computed:{...(0,E.rn)({isLoading:e=>e.isLoading,selectedCity:e=>e.selectedCity,searchQuery:e=>e.searchQuery,cityName:e=>e.cityName,isFavoriteCity:e=>e.favorite.isFavoriteCity,favoriteCites:e=>e.favorite.favoriteCites})},created(){localStorage.getItem("favoriteSites")&&this.LOAD_FAVORITE_CITES(JSON.parse(localStorage.getItem("favoriteSites"))),this.fetchWeather(this.cityName),this.checkIsFavoriteCity(this.cityName)},watch:{cityName(e){this.checkIsFavoriteCity(e)}}};const Ve=(0,T.Z)(Ne,[["render",n]]);var Me=Ve,Ge={namespaced:!0,state:{isFavoriteCity:!1,favoriteCites:[]},mutations:{SET_IS_FAVORITE_CITY(e,t){e.isFavoriteCity=t},ADD_FAVORITES_CITES(e,t){e.favoriteCites.push(t)},REMOVE_FAVORITES_CITES(e,t){e.favoriteCites=e.favoriteCites.filter((e=>e!==t))},LOAD_FAVORITE_CITES(e,t){e.favoriteCites=t}}},Qe=a(6265),ze=a.n(Qe);function xe({lat:e,lon:t}){return ze().get("data/2.5/onecall",{baseURL:"https://api.openweathermap.org",params:{units:"metric",appid:"0e1fb26ff399f8f120e1a62839be4f02",exclude:"minutely,hourly,alerts",lat:e,lon:t}})}function je(e){return ze().get("/geo/1.0/direct",{baseURL:"https://api.openweathermap.org",params:{appid:"0e1fb26ff399f8f120e1a62839be4f02",limit:"1",q:e}})}var He={namespaced:!0,getters:{getTime(e,t,a){const r=a.weather.current.dt,i=new Date(1e3*r);return i.toLocaleString("ru",{hour:"numeric",minute:"numeric"})},getTemperature(e,t,a){const r=a.weather.current.temp;return Math.round(r)},getFeelsLikeTemperature(e,t,a){const r=a.weather.current["feels_like"];return Math.round(r)},getWeatherPressure(e,t,a){const r=a.weather.current.pressure;return Math.round(r/1.333)},getPressureStatus(e,t,a){const r=a.weather.current.pressure;return r<750?"пониженное":r>770?"повышенное":"нормальное"},getWindSpeed(e,t,a){const r=a.weather.current["wind_speed"];return Math.round(r)},getWindRoute(e,t,a){const r=a.weather.current["wind_deg"];return r>22&&r<=67?"северо-восток":r>67&&r<=112?"восток":r>112&&r<=157?"юго-восток":r>157&&r<=202?"юг":r>202&&r<=247?"юго-запад":r>247&&r<=292?"запад":r>292&&r<=337?"северо-запад":"север"},getWindStatus(e,t,a){const r=a.weather.current["wind_speed"];return r<.49?"штиль":r<2?"тихий ветер":r<8?"слабый ветер":r<17?"сильный ветер":r<28?"шторм":"ураган"},getWeatherCondition(e,t,a){const r=a.weather.current.weather[0].id;return r<240?"Гроза":r<330?"Морось":r<540?"Дождь":r<630?"Снег":r<790?"Туман":"Без осадков"},getWeatherIcon(e,t,a){const r=a.weather.current.weather[0].icon;return{backgroundImage:`url(http://openweathermap.org/img/wn/${r}@2x.png)`}}}},Pe={namespaced:!0,state:{current:null,daily:null},mutations:{SET_WEATHER(e,{current:t,daily:a}){e.current=t,a.pop(),e.daily=a}},actions:{async fetchWeather({commit:e},t){try{const a=await xe(t);e("SET_WEATHER",a.data),e("SET_LOADING",!1,{root:!0})}catch(a){console.log(a)}},async fetchCoordinates({dispatch:e},t){try{const a=await je(t);e("fetchWeather",a.data[0])}catch(a){console.log(a)}}},modules:{current:He}},Ue=(0,E.MT)({state:{cityName:"Краснодар",isLoading:!0,searchQuery:"",selectedCity:""},mutations:{SET_LOADING(e,t){e.isLoading=t},SET_CITY_NAME(e,t){e.cityName=t},SET_SELECTED_CITY(e,t){e.selectedCity=t},SET_SEARCH_QUERY(e,t){e.searchQuery=t}},modules:{favorite:Ge,weather:Pe}});(0,r.ri)(Me).use(Ue).mount("#app")}},t={};function a(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,i,s){if(!r){var n=1/0;for(d=0;d<e.length;d++){r=e[d][0],i=e[d][1],s=e[d][2];for(var o=!0,c=0;c<r.length;c++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(o=!1,s<n&&(n=s));if(o){e.splice(d--,1);var _=i();void 0!==_&&(t=_)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,i,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,s,n=r[0],o=r[1],c=r[2],_=0;if(n.some((function(t){return 0!==e[t]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(c)var d=c(a)}for(t&&t(r);_<n.length;_++)s=n[_],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},r=self["webpackChunkvue_weather_app"]=self["webpackChunkvue_weather_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(7121)}));r=a.O(r)})();
//# sourceMappingURL=app.84dd622d.js.map